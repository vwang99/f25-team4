<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Sign Up</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<div class="header">
		<span class="header-title">Tether</span>
		<nav class="nav-links">
			<div class="nav-left">
				<a href="index.html#chatRoomsList" class="nav-link">Chat Rooms</a>
				<a href="profile.html" class="nav-link">Profile</a>
				<a href="signup.html" class="nav-link">Sign Up</a>
				<a href="index.html" class="nav-link">Home</a>
			</div>
			<div class="nav-right"></div>
		</nav>
	</div>

	<div class="form-container">
		<h2>Sign Up</h2>
		<form class="login-form" id="signupForm" autocomplete="on">
			<input type="text" id="su_username" name="username" placeholder="Username" required autofocus>
			<input type="email" id="su_email" name="email" placeholder="Email" required>
			<input type="password" id="su_password" name="password" placeholder="Password (min 6 chars)" required>
			<input type="password" id="su_password_confirm" name="password_confirm" placeholder="Confirm password" required>
			<button type="submit" id="signupSubmit">Create account</button>
		</form>
		<div style="margin-top:10px;color:#003366;">Already have an account? <a href="login.html" style="color:#003366;font-weight:600;text-decoration:underline;">Login</a></div>
		<div class="success-message" id="signupSuccess" style="display:none;"></div>
	</div>

	<script>
		const signupForm = document.getElementById('signupForm');
		const successEl = document.getElementById('signupSuccess');
		signupForm.addEventListener('submit', function(e) {
			e.preventDefault();
			const username = document.getElementById('su_username').value.trim();
			const email = document.getElementById('su_email').value.trim();
			const pw = document.getElementById('su_password').value;
			const pwc = document.getElementById('su_password_confirm').value;
			if (pw.length < 6) {
				successEl.style.display = 'block';
				successEl.textContent = 'Password must be at least 6 characters.';
				return;
			}
			if (pw !== pwc) {
				successEl.style.display = 'block';
				successEl.textContent = 'Passwords do not match.';
				return;
			}
			// Fake signup: show success and redirect to profile
			successEl.style.display = 'block';
			successEl.textContent = 'Account created â€” redirecting...';
			// In a real app you'd POST to a server here.
			// set the logged-in user so signup logs in automatically
			try { localStorage.setItem('loggedInUser', username); } catch (err) { window.loggedInUser = username; }
			setTimeout(() => {
				window.location.href = 'profile.html';
			}, 700);
		});
	</script>
	<script src="main.js"></script>
</body>
</html>